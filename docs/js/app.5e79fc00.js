(function(t){function e(e){for(var s,a,c=e[0],o=e[1],l=e[2],d=0,h=[];d<c.length;d++)a=c[d],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&h.push(n[a][0]),n[a]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);u&&u(e);while(h.length)h.shift()();return r.push.apply(r,l||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],s=!0,c=1;c<i.length;c++){var o=i[c];0!==n[o]&&(s=!1)}s&&(r.splice(e--,1),t=a(a.s=i[0]))}return t}var s={},n={app:0},r=[];function a(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=s,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)a.d(i,s,function(e){return t[e]}.bind(null,s));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/plumsail-weather-widget-vue/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=o;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"0a2f":function(t,e,i){"use strict";i("58f1")},"0d2b":function(t,e,i){"use strict";i("9958")},"128e":function(t,e,i){"use strict";i("a5a9")},"1c65":function(t,e,i){},2972:function(t,e,i){},"56a9":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var s=i("2b0e"),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"weather-widget"},[i("div",{staticClass:"sections"},[i("settings",{directives:[{name:"show",rawName:"v-show",value:t.togglers.showSettings,expression:"togglers.showSettings"}],attrs:{cities:t.cities},on:{"cities-updated":t.updateCities,"settings-closed":function(e){t.togglers.showSettings=!1}}}),i("weather-list",{directives:[{name:"show",rawName:"v-show",value:!t.togglers.showSettings,expression:"!togglers.showSettings"}],attrs:{cities:t.cities,"list-of-cities-loaded":!t.togglers.showLoader},on:{"settings-opened":function(e){t.togglers.showSettings=!0}}})],1)])},r=[],a=i("1da1"),c=(i("96cf"),i("bc3a")),o=i.n(c),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"settings"},[i("div",{staticClass:"header"},[i("div",{staticClass:"title"},[t._v("Settings")]),i("div",{staticClass:"btn close",on:{click:function(e){return t.$emit("settings-closed")}}})]),i("div",{staticClass:"main"},[i("draggable",{attrs:{list:t.cities,handle:".dragger"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.cities.length,expression:"!cities.length"}],staticClass:"no-cities"},[t._v("Cities list is empty")]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.cities.length,expression:"cities.length"}],staticClass:"cities"},t._l(t.cities,(function(e){return i("settings-city",{staticClass:"city",attrs:{city:e},on:{"city-deleted":t.removeCity}})})),1)])],1),i("div",{staticClass:"footer"},[i("div",{staticClass:"add-city-title"},[t._v("Add Location")]),i("div",{staticClass:"add-city"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.inputCity,expression:"inputCity"}],staticClass:"city-input",attrs:{type:"text",placeholder:"Type location and press Enter..."},domProps:{value:t.inputCity},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addCity.apply(null,arguments)},input:function(e){e.target.composing||(t.inputCity=e.target.value)}}}),i("div",{staticClass:"city-input-icon"})])])])},u=[],d=i("2909"),h=(i("c740"),i("a434"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"settings-city"},[i("div",{staticClass:"dragger-title"},[i("div",{staticClass:"dragger"}),i("div",{staticClass:"title"},[t._v(t._s(t.city))])]),i("div",{staticClass:"btn delete",on:{click:function(e){return t.$emit("city-deleted",t.city)}}})])}),p=[],v={props:["city"],name:"SettingsCity"},f=v,m=(i("66d2"),i("2877")),w=Object(m["a"])(f,h,p,!1,null,"2e074a90",null),g=w.exports,C=i("b76a"),y=i.n(C),b={props:["cities"],data:function(){return{inputCity:null}},methods:{addCity:function(){var t=Object(d["a"])(this.cities);t.push(this.inputCity),this.$emit("cities-updated",t),this.inputCity=null},removeCity:function(t){var e=Object(d["a"])(this.cities),i=e.findIndex((function(e){return e===t}));-1!==i&&(e.splice(i,1),this.$emit("cities-updated",e))}},name:"Settings",components:{SettingsCity:g,Draggable:y.a}},_=b,S=(i("b369"),Object(m["a"])(_,l,u,!1,null,"2fc84c91",null)),x=S.exports,O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"weather-list"},[i("div",{staticClass:"header"},[i("div",{staticClass:"open-settings",on:{click:function(e){return t.$emit("settings-opened")}}})]),i("spinner",{directives:[{name:"show",rawName:"v-show",value:!t.listOfCitiesLoaded,expression:"!listOfCitiesLoaded"}]}),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.cities.length&&t.listOfCitiesLoaded,expression:"!cities.length && listOfCitiesLoaded"}],staticClass:"no-cities"},[t._v(" Cities list is empty. Click the gear icon to add some. ")]),t._l(t.cities,(function(e){return i("city-weather",{directives:[{name:"show",rawName:"v-show",value:t.cities.length&&t.listOfCitiesLoaded,expression:"cities.length && listOfCitiesLoaded"}],attrs:{city:e}})}))],2)},k=[],L=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"city-weather"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.togglers.showLoader,expression:"!togglers.showLoader"}],staticClass:"selected-location-info"},[i("div",{staticClass:"header"},[i("div",{staticClass:"title"},[t._v(t._s(t.locality)+", "+t._s(t.country))])]),i("div",{staticClass:"main"},[i("div",{staticClass:"weather-brief"},[i("img",{staticClass:"weather-image",attrs:{src:t.imgURL}}),i("div",{staticClass:"temperature"},[i("div",{staticClass:"value"},[t._v(t._s(t.roundedTemperatureCelsius))]),t._m(0)])]),i("div",{staticClass:"weather-detailed"},[t._v(" Feels like "+t._s(t.feelsLikeTemperatureCelsius)+" "),t._m(1),t._v(" "+t._s(t.cloudsState)+". ")]),i("div",{staticClass:"wind-pressure"},[i("div",{staticClass:"wind"},[i("div",{staticClass:"icon wind-icon"}),i("div",{staticClass:"value wind-value"},[t._v(t._s(t.windSpeed)+"m/s "+t._s(t.windDirection))])]),i("div",{staticClass:"pressure"},[i("div",{staticClass:"icon pressure-icon"}),i("div",{staticClass:"value pressure-value"},[t._v(t._s(t.pressure)+"hPa")])])]),i("div",{staticClass:"humidity-visibility"},[i("div",{staticClass:"humidity"},[t._v("Humidity: "+t._s(t.humidity)+"%")]),i("div",{staticClass:"visibility"},[t._v("Visibility: "+t._s(t.visibility)+"km")])])])]),i("spinner",{directives:[{name:"show",rawName:"v-show",value:t.togglers.showLoader,expression:"togglers.showLoader"}]})],1)},N=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"units"},[i("div",{staticClass:"grade"},[t._v("o")]),t._v(" C ")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"units"},[i("div",{staticClass:"grade"},[t._v("o")]),t._v(" C. ")])}],j=i("3835"),E=(i("b0c0"),i("a4d3"),i("e01a"),i("d81d"),i("4de4"),i("fb6a"),{methods:{capitalizeFirstLetter:function(t){var e=t[0].toUpperCase();return e+t.slice(1)}}}),W=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"spinner"})},$=[],T={name:"Spinner"},P=T,M=(i("0a2f"),Object(m["a"])(P,W,$,!1,null,"c526753a",null)),R=M.exports,K={props:["city"],data:function(){return{togglers:{showLoader:!0},APIKey:"edce8b7ea7a84fd4615c745fc28f8eaa",weather:null}},computed:{locality:function(){return this.weather?this.weather.name:null},country:function(){return this.weather?this.weather.sys.country:null},imgURL:function(){if(!this.weather)return"";var t=this.weather.weather[0].icon;return"https://openweathermap.org/img/w/".concat(t,".png")},temperatureKelvin:function(){return this.weather?this.weather.main.temp:null},temperatureCelsius:function(){return this.temperatureKelvin?this.kelvinToCelsius(this.temperatureKelvin):null},roundedTemperatureCelsius:function(){return this.temperatureCelsius?Math.round(this.temperatureCelsius):null},feelsLikeTemperatureCelsius:function(){if(!this.weather)return null;var t=this.weather.main.feels_like,e=this.kelvinToCelsius(t);return Math.round(e)},cloudsState:function(){if(!this.weather)return"";var t=this.weather.weather[0].description;return this.capitalizeFirstLetter(t)},pressure:function(){return this.weather?this.weather.main.pressure:null},windSpeed:function(){return this.weather?this.weather.wind.speed:null},windDirection:function(){if(!this.weather)return"";var t=this.weather.wind.deg,e=[[[0,11.25],"N"],[[11.25,33.75],"NNE"],[[33.75,56.25],"NE"],[[56.25,78.75],"N"],[[56.25,78.75],"ENE"],[[78.75,101.25],"E"],[[101.25,123.75],"ESE"],[[123.75,146.25],"SE"],[[146.25,168.75],"SSE"],[[168.75,191.25],"S"],[[191.25,213.75],"SSW"],[[213.75,236.25],"SW"],[[236.25,258.75],"WSW"],[[258.75,281.25],"W"],[[281.25,303.75],"WNW"],[[303.75,326.25],"NW"],[[326.25,326.25],"NNW"],[[326.25,360],"N"]],i=e.filter((function(e){var i=e[0],s=i[0],n=i[1],r=t>=s&&t<n;return r})).map((function(t){return t[1]})),s=Object(j["a"])(i,1),n=s[0];return n},humidity:function(){return this.weather?this.weather.main.humidity:""},visibility:function(){if(!this.weather)return null;var t=this.weather.visibility,e=t/1e3;return Math.floor(10*e)/10}},methods:{getWeather:function(t){var e=t.city,i=t.latitude,s=t.longitude,n="https://api.openweathermap.org/data/2.5/weather",r={params:{appid:this.APIKey}};return e?r.params.q=e:(r.params.lat=i,r.params.lon=s),o.a.get(n,r)},kelvinToCelsius:function(t){return t-273.15}},watch:{city:{handler:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function i(){var s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(t){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,e.getWeather({city:t});case 4:s=i.sent,e.weather=s.data,e.$nextTick((function(){return e.togglers.showLoader=!1})),console.log("this.weather",e.weather);case 8:case"end":return i.stop()}}),i)})))()},immediate:!0}},mixins:[E],name:"CityWeather",components:{Spinner:R}},F=K,I=(i("9a2b"),Object(m["a"])(F,L,N,!1,null,"43501218",null)),J=I.exports,z={props:["cities","listOfCitiesLoaded"],name:"WeatherList",components:{CityWeather:J,Spinner:R}},A=z,D=(i("0d2b"),Object(m["a"])(A,O,k,!1,null,"450dd416",null)),U=D.exports,q={data:function(){return{togglers:{showSettings:!1,showLoader:!0},cities:[]}},methods:{updateCities:function(t){this.cities=t},loadConfig:function(){var t=localStorage.cities;return t?JSON.parse(t):[]}},watch:{cities:function(t){var e=JSON.stringify(t);localStorage.setItem("cities",e)}},created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var i,s,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=t.loadConfig(),i.length){e.next=10;break}return s={params:{fields:"city"}},e.next=5,o.a.get("http://ip-api.com/json/",s);case 5:return n=e.sent,r=t.capitalizeFirstLetter(n.data.city),t.cities=[r],t.$nextTick((function(){return t.togglers.showLoader=!1})),e.abrupt("return");case 10:t.cities=i,t.$nextTick((function(){return t.togglers.showLoader=!1}));case 12:case"end":return e.stop()}}),e)})))()},mixins:[E],name:"WeatherWidget",components:{Settings:x,WeatherList:U}},H=q,V=(i("128e"),i("965e"),Object(m["a"])(H,n,r,!1,null,"385599d2",null)),B=V.exports;i("b803");new s["a"]({render:function(t){return t(B)}}).$mount("#app")},"58f1":function(t,e,i){},"66d2":function(t,e,i){"use strict";i("56a9")},"965e":function(t,e,i){"use strict";i("1c65")},9958:function(t,e,i){},"9a2b":function(t,e,i){"use strict";i("2972")},a5a9:function(t,e,i){},b369:function(t,e,i){"use strict";i("d2f3")},d2f3:function(t,e,i){}});
//# sourceMappingURL=app.5e79fc00.js.map